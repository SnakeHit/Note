#### 任务描述

本关任务：根据下面对类图和对象图相关知识的介绍，完成相关的选择题。

#### 相关知识

面向对象设计的基础就是使用的类。==类是用来代表现实事务或者功能的构造块==。在本节中我们将要学习如何创建 UML 类图及其相互之间的关系，以便在编写代码之前让你对系统拥有全面的认识。

##### 类图

类图是由若干类连接在一起，反映系统或者子系统组成结构的静态图。类图的建模贯穿工程的分析和设计阶段的始终，通常从商务伙伴能够理解的对象开始建模，最终往往成为只有开发小组才能够完全理解的类。

- 什么是 UML 类图？

==描述类、接口、协作及他们之间的关系的图。显示系统中类的静态结构。==

- 为什么要使用 UML 类图？

由于 UML 类图的精确、无歧义、完整的建模，通常，我们通过使用 UML 类图来详细的描述系统中的对象和他们的关系。认识 UML 类图也能帮助我们快速了解、理清系统中对象之间的关系。

###### 类图的组成

类图由如下元素组成：

1. ==类：是具有共同结构特征、行为特征、联系和语义的对象集合的抽象形成==。
2. 关联：它表示类与类之间的关系。

> 注意：类图可以包含注解和约束，类图还可以有包或子系统，二者都用于把模型元素聚集成更大的组件。

- 类

在 UML 类中常用三栏式表示：

![img](https://www.educoder.net/api/attachments/582178)

图1 - UML图中类图表示

第一栏为类名，必须是名词，用黑体字，居中表达，但当类为抽象类时则采用斜体字表达。类名必须有，但属性和操作可以为空。

第二栏包含了两部分，左边的`+`、`-`、`#`表示属性的可见性，分别表示`public`、`private`、`protected`；右边表示类的属性。表达格式为：`可见性 名称:类型[=初始值]`。

第三栏同属性一样，包含了两部分，前面的符号表示了方法的可见性，后面表示类的方法。表达格式为：`可见性 名称(参数列表)[:返回类型]`。

> 注意：接口是一组用于描述类或构件的一个服务的操作。在图形上，把接口画为一个圆。

![img](https://www.educoder.net/api/attachments/582138)

图2 - UML图中接口的表示

- 关联

类与类之间主要有以下几种关系：

① **依赖关系**

假设 A 类的变化引起了 B 类的变化，则说明 B 类依赖于 A 类。

依赖关系是一种使用关系，特定事物的改变有可能会影响到使用该事物的其他事物，在需要表示一个事物使用另一个事物时使用依赖关系。大多数情况下，依赖关系体现在某个类的方法使用另一个类的对象作为参数。

在 UML 中，依赖关系用**带箭头的虚线**表示，有依赖一方指向被依赖的一方。

**特征**：一个类的方法的参数的数据类型是另一个类的定义；一个类的方法使用了另一个类的属性；一个类的方法调用了另一个类的方法；依赖关系只有在系统运行时它存在，系统不运行时它不存在。

② **泛化关系**

A 是 B 和 C 的父类， B ， C 具有公共类（父类） A ，说明 A 是 B ， C 的一般化（概括，也称泛化）。

泛化关系也就是继承关系，泛化关系用于描述父类于子类之间的关系，父类又称作基类或超类，子类又称作派生类。

在 UML 中，泛化关系用**带空心三角形的直线**表示。在代码实现时，使用面向对象的继承机制来实现泛化关系。同时对泛化关系有三个要求：

1. 子类与父类应该完全一致，父类所具有的属性、操作，子类应该都有；
2. 子类中除了与父类一致的信息以外，还包括额外的信息；
3. 可以使用父类的实例的地方，也可以使用子类的实例。

**特征**：一般类定义了共同的属性和方法；特殊类继承了一般类的属性和方法；特殊类还可以定义自己的属性和方法；泛化关系只有在系统运行时它存在，系统不运行时它不存在，除非要将两类对象永久保存。

③ **关联关系**

类之间的联系，如客户和订单，每个订单对应特定的客户，每个客户对应一些特定的订单，在如篮球队员与球队之间的关联。

关联关系是类与类之间最常用的一种关系，它是一种结构化关系，用于表示一类对象与另一类对象之间有联系。

在 UML 类图中，用**实线**连接有关联的对象所对应的类。

**特征**：一个类的属性的数据类型是另一个类的定义；一个类的部分对象与另一个类的部分对象存在属性值上的联系；关联关系一旦建立，系统运行与否它都存在。

④ **聚合关系**

聚合是一种特殊形式的关联。聚合表示类之间整体与部分的关系。整体与部分没有相同的生存期，整体不存在了，部分仍能存在。

在 UML 中用**带有空心菱形的实线**表示，空心菱形指向代表整体的类。UML图如下：

![img](https://www.educoder.net/api/attachments/582231)

图4 - UML类图聚合关系

⑤ **组合关系**

组合是一种特殊形式的关联。组合表示类之间整体与部分的关系。整体与部分有相同的生存期，整体不存在了，部分也不能存在。比如公司和部门之间的关系，一旦公司解散，部门也随之解散。

在 UML 中用**带有实心菱形的实线**表示。UML图如下：

![img](https://www.educoder.net/api/attachments/582243)

图5 - UML类图组合关系

⑥ **实现关系**

实现关系是用来规定接口和实现接口的类或者构建结构的关系，接口是操作的集合，而这些操作就用于规定类或者构建的一种服务。

接口之间也可以有与类之间关系类似的继承关系和依赖关系，但是接口和类之间还存在一种实现关系，在这种关系中，类实现了接口，类中的操作实现了接口中所声明的操作。

在UML 中，类与接口之间的实现关系用**带空心三角行的虚线**来表示。

- 类的多重性

多重性是用来说明两个类之间的数量关系，表示为一个整数范围`n...m`，整数 n 定义所链接的最少对象的数目，m 为最多对象数目（但不确定最大数时，可以`*`号表示）。常见的多重性如下表：

| 表示 | 含义                     |
| ---- | ------------------------ |
| 0…1  | 表示 0 或者 1 的关联数目 |
| 0…*  | 表示 0 或多个关联数目    |
| 1…1  | 表示 1 个关联数目        |
| 1…*  | 表示 1 或多个关联数目    |
| *    | 表示有多个关联数目       |

##### 对象图

对象图是类图的实例，几乎使用与类图完全相同的标识。他们的不同点在于对象图显示类的多个对象实例，而不是实际的类。

一个对象图是类图的一个实例。由于对象存在生命周期，因此对象图只能在系统某一时间段存在。

首先对象名的格式是“实例名:类名”，包含实例名和类名两部分。实际上这两者都是可选的，例如，Joe ， :Employee ， aEmployee ，Joe:Employee 这些都是合法的。还有就是对象名要加下划线，下划线是对象图有别于类图的一个重要标志。

对象图是上下两栏式矩形，上面是对象名，下面是属性，对于每个属性都要给出具体值，对象图上不标出方法。

如下图，给出了一个对象图示例，该示例说明了一个事实，即长沙是湖南省的一个城市。对象图使用场合不多，在后面将要介绍的顺序图中会用到。

![img](https://www.educoder.net/api/attachments/582293)

图5 - 对象图

##### 类图与对象图的区别

对象是描述客观世界中某个具体的实体，而类是对一类具有相同特征的对象的描述。对象是类的实例。

| 类图                                                       | 对象图                                                       |
| ---------------------------------------------------------- | ------------------------------------------------------------ |
| 每个类包含三部分：类名、类的属性和类的操作                 | 每个对象包含二部分：对象名、对象属性                         |
| 类的名称栏只包含类名                                       | 对象的名称栏包含“对象名：类名”                               |
| 类的属性栏定义了所有属性的特征                             | 对象的属性栏定义了属性的当前值                               |
| 类中列出了操作                                             | 对象图中的对象不包含操作，因为对于属于同一个类的对象，其操作是相同的 |
| 类中使用关联连接，关联中使用关联名、角色以及约束等特征定义 | 对象使用链进行连接，链中包含名称、角色                       |
| 类代表的是对对象的分类所以必须说明可以参与关联的对象的数目 | 对象代表的是单独的实体，所有的链都是一对一的，因此不涉及到多重性 |