#### 任务描述

本关任务：根据下面对用例图和用力说明的相关知识介绍，完成相关的选择题。

#### 相关知识

为了完成本关任务，你需要掌握用例图及其要点因素。

##### 用例图介绍

==用例图主要用来描述角色以及角色与用例之间的连接关系==。主要用于**需求分析**阶段，说明的是谁要使用系统，以及他们使用该系统可以做些什么。

一个用例图包含了多个模型元素，如==系统、参与者和用例==，并且显示这些元素之间的各种关系，如泛化、关联和依赖。它展示了一个外部用户能够观察到的系统功能模型图。

用例图的主要用途是帮助开发团队以一种可视化的方式理解系统的功能需求。

用例图的基本概念：

1. 用例图是表示一个系统中用例与参与者关系之间的图。它描述了系统中相关的用户和系统对不同用户提供的功能和服务。
2. 用例图相当于从用户的视角来描述和建模整个系统，分析系统的功能与行为。
3. 用例图中的主要元素包括参与者、用例以及元素之间的关系。此外，用例图还可以包括注解和约束，也可以使用包将图中的元素组合成模块。

##### 用例图所包含元素

用例图的基本组成元素：参与者、用例、元素之间的关系。

###### 参与者

1、参与者是与系统主体交互的外部实体的类元，描述了一个或一组与系统产生交互的外部用户或外部事物。

2、参与者位于系统边界之外，而不是系统的一部分。

3、参与者是从现实世界中抽象出来的一种形式，却不一定确切对应的现实中的某个特定对象。

在 UML 用例图中用一个小人来表示：

![img](https://www.educoder.net/api/attachments/581199)

图1 - UML用例图中的参与者

问：那我们该如何确定参与者呢？

答：通过对参与者进行关注和分析，我们可以把重点放在如何与系统交互这一问题上，便于进一步确定系统的边界。另外，参与者也决定了系统需求的完整性。

确定参与者可以从以下几个角度来考虑：

1）==为系统提供输入的人或事物==

2）==接收系统输出的人或事物==

3）==需要接入的第三方系统或设备==

4）==时间是否会触发某些事件==

5）==负责支持或维护系统中信息的人==

###### 用例

==用例是参与者和系统之间完成的一组动作序列，最终产生一个参与者能够感知的有意义的结果==。

首先用例是一组动作序列。用例中的动作不应该被当作单独用例看待，而应该被看成是用例的一部分。例如，小王打开窗户，这是一个小王能感知的有意义的结果，是一个用例。这个中间有很多的动作，如小王走到窗前，用手握住窗户把手，用力旋转，推开窗户，这些动作只能看成是组成小王打开窗户这个用例的动作序列。

与参与者直接相连的用例被称为基本用例，一般是软件系统最重要和最基本的功能需求。除了基本用例之外，还可以有**扩展用例**（扩展用例相对于基本用例不是必要的动作，但这个动作有一定的独立性，本身可以单独发布且可能在未来被其他软件重用）和**包含用例**（包含用例是指相对于某用例中必须包含的一个动作）。

在 UML 用例图中用椭圆表示：

![img](https://www.educoder.net/api/attachments/581349)

图2 - UML图中用例表示

- 用例与用例的关系

用例与用例之间主要是**包含**和**扩展**两种关系，泛化关系出现的比较少。特别要注意用例和用例之间不存在关联关系。包含和扩展的 UML 表达要注意箭头的方向和上面的标注`<<include>>`和`<<extend>>`，另外就是要用虚线，因为此时用例和用例之间是依赖关系的一种特例。

如下图，购物时基本用例，付款相对于购物而言是包含用例，箭头从购物指向付款，刷购物卡相对于付款用例是一个扩展用例，箭头从刷购物卡指向付款。

![img](https://www.educoder.net/api/attachments/581343)

图3 - 用例与用例的关系图

- 用例与参与者的关系

参与者与用例之间的关系是**关联关系**，==即一个用例可以隶属一个或多个参与者，一个参与者也可以参与一个或多个用例==。建议使用不带箭头的直线，有些教材使用带箭头直线，是考虑到这是单向关联，但这里其实没必要强调关联方向。

- 用例的特征

第一，用例是一组动作序列，所以用例名必须是动词或者动宾词汇；第二，用例是相对独立的；第三，用例是由参与者启动的；第四，用例要有可观测的执行结果；第五，一个用例是一个单元。

##### 用例图使用要点

1. 构建结构良好的用例。用例图中应该只包含对系统而言必不可少的用例与相关的参与者。
2. 用例的名称不应该简化到使读者误解其主要语义的程度。
3. 摆放元素时应尽量减少连接线的交叉，以提供更好的可视化效果。
4. 组织元素时应使在语义上接近的用例和参与者在图的位置上也同样接近，便于读者理解用例图。
5. 可以使用注解或给元素添加颜色等方式突出图中相对重要的内容。
6. 用例图中不应该有太多的关系种类。

##### 用例说明

用力说明又称为用例规约或者用例规约说明。它是用例图非常重要的一个补充，也是用例表达软件需求的一个重要组成部分，甚至是不可或缺的组成部分。

用例说明通常包含以下内容：

1. 用例编号

用例的唯一标识符，主要用于后续需求跟踪，方便引用，也可以说是方便统一管理。

1. 用例名称

用例说明中的用例名称必须和用例图上的对应用例名称一致，只要是为了方便理解和查阅，是用动词或者动宾词汇，保持简短是基本的要求。

1. 参与者

参与者在用例图上其实一目了然，和该用例关联的参与者都列出来就可以了。

1. 用例描述

用例描述是对用例功能的简短描述。

1. 主事件流

主事件流是用例描述的核心，详细描述用例包含的动作序列。

需要注意的是以下几点，首先是不牵涉到功能实现的细节，也就是参与者无法感知的事情不出现在用例描述中；其次用例描述是描述参与者和软件系统的交互过程，所以最好是参与者和系统分别作为主语交替出现；再次应该讲作为操作主体的动作一次性描述完成，不要分开描述；最后包含用例相对主用例而言就是一个操作步骤，直接描述而不应该进一步细化分拆描述。

1. 异常事件流或分支事件流

异常事件流或分支事件流其实是主事件流中某个步骤的差异化分支。在描述中首先要对分支给出编号和名称，然后详细描述一场或分支的动作序列，最后还要返回到主事件流中。

下面以用户登录用例说明来进一步解释用例说明的写法：

![img](https://www.educoder.net/api/attachments/581380)

图4 - 用户登录用例图

| 用例编号              | UC-001                                                       |
| --------------------- | ------------------------------------------------------------ |
| 用例名称              | 登录                                                         |
| 参与者                | 用户                                                         |
| 用例描述              | 支持注册的用户名密码登录                                     |
| 主事件流              | 1.用户进入登录，启动用例 2.系统显示登录界面 3.用户输入用户名、密码确认 4.系统确认登录成功，跳转至其他功能，用例结束 |
| 分支事件流/异常事件流 | 4A：系统登录不成功 1.系统显示相应登录不成功提示 2.用户确认 3.系统跳转到主事件流第 2 步 |
| 扩展点                | 3E：注册用例扩展点 1.用户直接进入注册扩展用例 2.返回后系统跳转到主事件流第 2 步 |

| 用例编号              | UC-002                                                       |
| --------------------- | ------------------------------------------------------------ |
| 用例名称              | 注册                                                         |
| 参与者                | 用户                                                         |
| 用例描述              | 登录用例的扩展，完成用户注册                                 |
| 主事件流              | 1.用户进入注册，启动用例 2.系统显示注册界面 3.用户输入用户名、密码、再次输入密码并确认 4.系统确认注册成功，跳转至登录界面，用例结束 |
| 分支事件流/异常事件流 | 4A1：用户名或密码不规范 1.系统显示用户名或密码不规范，注册不成功提示 2.用户确认 3.系统跳转到主事件流第 2 步 4A2：用户名已被使用，无法使用 1.系统显示用户名重复，注册不成功提示 2.用户确认 3.系统跳转至主事件流第 2 步 |